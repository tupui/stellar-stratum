<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Stratum - Multi-Signature Stellar Transactions</title>
    <meta name="description" content="Stellar's threshold-based authorization system. Configure signature weights, manage signer permissions, and execute secure multi-signature transactions." />
    <meta name="author" content="Consulting Manao GmbH" />
    <meta name="keywords" content="stellar, multisig, multi-signature, transactions, blockchain, cryptocurrency, stellar lumens, threshold, authorization" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://stratum.app/" />
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Stratum - Multi-Signature Stellar Transactions" />
    <meta property="og:description" content="Stellar's threshold-based authorization system. Configure signature weights, manage signer permissions, and execute secure multi-signature transactions." />
    <meta property="og:url" content="https://stratum.app/" />
    <meta property="og:image" content="/social-card.png" />
    <meta property="og:site_name" content="Stratum" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Stratum - Multi-Signature Stellar Transactions" />
    <meta name="twitter:description" content="Stellar's threshold-based authorization system. Configure signature weights, manage signer permissions, and execute secure multi-signature transactions." />
    <meta name="twitter:image" content="/social-card.png" />
    <meta name="twitter:site" content="@PamphileRoy" />
    
    <!-- Mobile Meta Tags -->
    <meta name="theme-color" content="hsl(48, 96%, 53%)" />
    
    <link rel="icon" href="/favicon.png" type="image/png" />
    <link rel="icon" sizes="16x16" href="/favicon-16x16.png" type="image/png" />
    <link rel="icon" sizes="32x32" href="/favicon-32x32.png" type="image/png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" sizes="192x192" href="/android-chrome-192x192.png" type="image/png" />
    <link rel="icon" sizes="512x512" href="/android-chrome-512x512.png" type="image/png" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Performance optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://horizon.stellar.org" />
    <link rel="preconnect" href="https://horizon-testnet.stellar.org" />
    <link rel="preconnect" href="https://rpc.lightsail.network" />
    <link rel="dns-prefetch" href="https://soroban-domains.nftkey.app" />
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Source+Code+Pro:wght@400;500;600;700&display=swap" rel="stylesheet" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Stratum",
      "description": "Stellar's threshold-based authorization system for multi-signature transactions",
      "url": "https://stratum.app/",
      "logo": "/social-card.png",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "creator": {
        "@type": "Organization",
        "name": "Consulting Manao GmbH",
        "url": "https://consulting-manao.com/"
      },
      "keywords": "stellar, multisig, multi-signature, transactions, blockchain, cryptocurrency"
    }
    </script>
    
    <!-- Critical loading styles -->
    <style>
      :root {
        --background: 220 13% 9%;
        --foreground: 210 40% 98%;
        --primary: 48 96% 53%;
        --stellar-yellow: 45 100% 60%;
        --muted: 220 13% 15%;
        --muted-foreground: 217 12% 72%;
        --border: 220 13% 26%;
      }
      
      body {
        margin: 0;
        background: hsl(var(--background));
        color: hsl(var(--foreground));
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      }
      
      #app-loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: hsl(var(--background));
        z-index: 9999;
        transition: opacity 0.4s ease-out;
      }
      
      #app-loader.hidden {
        opacity: 0;
        pointer-events: none;
      }
      
      .loader-content {
        text-align: center;
        padding: 2rem;
      }
      
      .loader-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: hsl(var(--primary));
      }
      
      .loader-subtitle {
        font-size: 1.125rem;
        color: hsl(var(--muted-foreground));
      }
      
      /* Node network animation */
      .node-network {
        width: 200px;
        height: 200px;
        position: relative;
        margin: 2rem auto 0;
      }
      
      .node {
        width: 12px;
        height: 12px;
        background: hsl(var(--stellar-yellow));
        border-radius: 50%;
        position: absolute;
        opacity: 0.6;
        box-shadow: 0 0 10px hsl(var(--stellar-yellow) / 0.5);
        transition: all 0.3s ease-out;
      }
      
      .node.center {
        width: 20px;
        height: 20px;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        opacity: 1;
        background: hsl(var(--stellar-yellow));
        box-shadow: 0 0 20px hsl(var(--stellar-yellow) / 0.8);
        animation: centerPulse 2s ease-in-out infinite;
      }
      
      .node.connected {
        opacity: 1;
        box-shadow: 0 0 15px hsl(var(--stellar-yellow) / 0.8);
      }
      
      .node.neon-yellow {
        box-shadow: 
          0 0 10px hsl(var(--stellar-yellow)),
          0 0 20px hsl(var(--stellar-yellow) / 0.8),
          0 0 30px hsl(var(--stellar-yellow) / 0.6),
          0 0 40px hsl(var(--stellar-yellow) / 0.4);
      }
      
      /* Outer nodes positioned in a circle */
      .node:nth-child(1) { left: 50%; top: 0; transform: translate(-50%, 0); animation: bigOscillate1 3s ease-in-out infinite; }
      .node:nth-child(2) { left: 85%; top: 15%; transform: translate(-50%, -50%); animation: bigOscillate2 3.2s ease-in-out infinite; }
      .node:nth-child(3) { left: 100%; top: 50%; transform: translate(-100%, -50%); animation: bigOscillate3 2.8s ease-in-out infinite; }
      .node:nth-child(4) { left: 85%; top: 85%; transform: translate(-50%, -50%); animation: bigOscillate4 3.1s ease-in-out infinite; }
      .node:nth-child(5) { left: 50%; top: 100%; transform: translate(-50%, -100%); animation: bigOscillate5 2.9s ease-in-out infinite; }
      .node:nth-child(6) { left: 15%; top: 85%; transform: translate(-50%, -50%); animation: bigOscillate6 3.3s ease-in-out infinite; }
      .node:nth-child(7) { left: 0; top: 50%; transform: translate(0, -50%); animation: bigOscillate7 3s ease-in-out infinite; }
      .node:nth-child(8) { left: 15%; top: 15%; transform: translate(-50%, -50%); animation: bigOscillate8 2.7s ease-in-out infinite; }
      .node:nth-child(9) { left: 65%; top: 35%; transform: translate(-50%, -50%); animation: bigOscillate9 3.4s ease-in-out infinite; }
      
      .connection {
        position: absolute;
        height: 2px;
        background: linear-gradient(90deg, hsl(var(--stellar-yellow) / 0.8), hsl(var(--stellar-yellow) / 0.3));
        transform-origin: left center;
        opacity: 0;
        transition: opacity 0.3s ease-out;
        left: 50%;
        top: 50%;
      }
      
      .connection.active {
        opacity: 1;
      }
      
      @keyframes bigOscillate1 {
        0%, 100% { transform: translate(-50%, 0) translate(0px, 0px); }
        25% { transform: translate(-50%, 0) translate(8px, 6px); }
        50% { transform: translate(-50%, 0) translate(-5px, 10px); }
        75% { transform: translate(-50%, 0) translate(-8px, 3px); }
      }
      
      @keyframes bigOscillate2 {
        0%, 100% { transform: translate(-50%, -50%) translate(0px, 0px); }
        25% { transform: translate(-50%, -50%) translate(-6px, 8px); }
        50% { transform: translate(-50%, -50%) translate(10px, 5px); }
        75% { transform: translate(-50%, -50%) translate(4px, -7px); }
      }
      
      @keyframes bigOscillate3 {
        0%, 100% { transform: translate(-100%, -50%) translate(0px, 0px); }
        25% { transform: translate(-100%, -50%) translate(-8px, -6px); }
        50% { transform: translate(-100%, -50%) translate(-4px, 9px); }
        75% { transform: translate(-100%, -50%) translate(6px, 4px); }
      }
      
      @keyframes bigOscillate4 {
        0%, 100% { transform: translate(-50%, -50%) translate(0px, 0px); }
        25% { transform: translate(-50%, -50%) translate(7px, -8px); }
        50% { transform: translate(-50%, -50%) translate(-9px, -4px); }
        75% { transform: translate(-50%, -50%) translate(-5px, 7px); }
      }
      
      @keyframes bigOscillate5 {
        0%, 100% { transform: translate(-50%, -100%) translate(0px, 0px); }
        25% { transform: translate(-50%, -100%) translate(-7px, -6px); }
        50% { transform: translate(-50%, -100%) translate(5px, -10px); }
        75% { transform: translate(-50%, -100%) translate(8px, -3px); }
      }
      
      @keyframes bigOscillate6 {
        0%, 100% { transform: translate(-50%, -50%) translate(0px, 0px); }
        25% { transform: translate(-50%, -50%) translate(6px, -8px); }
        50% { transform: translate(-50%, -50%) translate(-10px, -5px); }
        75% { transform: translate(-50%, -50%) translate(-4px, 7px); }
      }
      
      @keyframes bigOscillate7 {
        0%, 100% { transform: translate(0, -50%) translate(0px, 0px); }
        25% { transform: translate(0, -50%) translate(8px, 6px); }
        50% { transform: translate(0, -50%) translate(4px, -9px); }
        75% { transform: translate(0, -50%) translate(-6px, -4px); }
      }
      
      @keyframes bigOscillate8 {
        0%, 100% { transform: translate(-50%, -50%) translate(0px, 0px); }
        25% { transform: translate(-50%, -50%) translate(-7px, 8px); }
        50% { transform: translate(-50%, -50%) translate(9px, 4px); }
        75% { transform: translate(-50%, -50%) translate(5px, -7px); }
      }
      
      @keyframes bigOscillate9 {
        0%, 100% { transform: translate(-50%, -50%) translate(0px, 0px); }
        25% { transform: translate(-50%, -50%) translate(5px, -9px); }
        50% { transform: translate(-50%, -50%) translate(-8px, 6px); }
        75% { transform: translate(-50%, -50%) translate(7px, 8px); }
      }
      
      @keyframes centerPulse {
        0%, 100% { 
          transform: translate(-50%, -50%) scale(1);
          box-shadow: 0 0 20px hsl(var(--stellar-yellow) / 0.8);
        }
        50% { 
          transform: translate(-50%, -50%) scale(1.15);
          box-shadow: 0 0 30px hsl(var(--stellar-yellow));
        }
      }
    </style>
  </head>

  <body>
    <div id="app-loader">
      <div class="loader-content">
        <div class="loader-title">Stratum</div>
        <div class="loader-subtitle">Loading Stellar Multisig Wallet...</div>
        <div class="node-network">
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node"></div>
          <div class="node center"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
          <div class="connection"></div>
        </div>
      </div>
    </div>
    
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <script>
      // Preload critical resources during animation
      function preloadResources() {
        return new Promise((resolve) => {
          const resources = [
            'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap'
          ];
          
          let loaded = 0;
          const total = resources.length;
          
          resources.forEach(url => {
            const link = document.createElement('link');
            link.rel = 'prefetch';
            link.href = url;
            link.onload = link.onerror = () => {
              loaded++;
              if (loaded >= total) resolve();
            };
            document.head.appendChild(link);
          });
          
          // Fallback timeout
          setTimeout(resolve, 2000);
        });
      }
      
      // Setup the network animation
      function setupNetworkAnimation() {
        const nodes = document.querySelectorAll('.node:not(.center)');
        const connections = document.querySelectorAll('.connection');
        const centerNode = document.querySelector('.node.center');
        
        if (!nodes.length || !connections.length || !centerNode) return;
        
        const networkContainer = document.querySelector('.node-network');
        const containerRect = networkContainer.getBoundingClientRect();
        const centerX = containerRect.width / 2;
        const centerY = containerRect.height / 2;
        
        // Animate connections sequentially
        nodes.forEach((node, index) => {
          setTimeout(() => {
            const nodeRect = node.getBoundingClientRect();
            const networkRect = networkContainer.getBoundingClientRect();
            
            const nodeX = nodeRect.left - networkRect.left + nodeRect.width / 2;
            const nodeY = nodeRect.top - networkRect.top + nodeRect.height / 2;
            
            const dx = nodeX - centerX;
            const dy = nodeY - centerY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * (180 / Math.PI);
            
            const connection = connections[index];
            if (connection) {
              connection.style.width = `${distance}px`;
              connection.style.transform = `rotate(${angle}deg)`;
              connection.classList.add('active');
            }
            
            // Mark node as connected and freeze its position
            node.classList.add('connected');
            node.style.animation = 'none';
            
            // Add neon glow after all connections
            if (index === nodes.length - 1) {
              setTimeout(() => {
                nodes.forEach(n => n.classList.add('neon-yellow'));
                centerNode.classList.add('neon-yellow');
              }, 200);
            }
          }, 300 + index * 130);
        });
      }
      
      document.addEventListener('DOMContentLoaded', function() {
        const root = document.getElementById('root');
        const loader = document.getElementById('app-loader');
        
        // Start animation and preloading
        setupNetworkAnimation();
        const preloadPromise = preloadResources();
        
        let animationComplete = false;
        let reactReady = false;
        let preloadComplete = false;
        
        // Animation completes after all nodes connect
        const animationDuration = 300 + (9 * 130) + 500; // Start delay + all connections + final glow
        setTimeout(() => {
          animationComplete = true;
          checkReady();
        }, animationDuration);
        
        preloadPromise.then(() => {
          preloadComplete = true;
          checkReady();
        });
        
        function checkReady() {
          if (animationComplete && reactReady && preloadComplete && loader) {
            loader.classList.add('hidden');
          }
        }
        
        const hideLoader = () => {
          if (root && root.children.length > 0) {
            reactReady = true;
            checkReady();
            return true;
          }
          return false;
        };
        
        if (!hideLoader()) {
          const observer = new MutationObserver(() => {
            if (hideLoader()) observer.disconnect();
          });
          if (root) observer.observe(root, { childList: true, subtree: true });
        }
        
        // Fallback timeout
        setTimeout(() => {
          if (loader) loader.classList.add('hidden');
        }, 8000);
      });
    </script>
  </body>
</html>
